<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Testing of Tech Solutions</title>
  <link href="/css/style_2.css" rel="stylesheet" type="text/css" />
</head>
<style>
body {
  background-image: url('David_JS.jpg');
}
  
.error {color: #FF0000;}
</style>

<body>
  
<div id="navbar-search" class="topnav">
  <a href="/">Home</a>
  <a href="/passing">Passing</a>
  <a href="/defense">Defense</a>
  <a href="/serving">Serving</a>
  <a href="/offense">Offense</a>
  <a href="/tactics">Tactics</a>
  <a href ="/testing">(_Testing_)</a>
  <div class="search-container">
    <form action="/action_page.php">
      <input type="text" placeholder="Search.." name="search">
      <button type="submit">Go!</button>
    </form>
  </div>
</div>
<script src="sticky_navbar.js"></script>

<div class="center bg_lightgray">  

  <h1>Testing and Validation</h1>

  
  <h3 id="Jump_Serve"> Jump Serve</h3>
  <p> method 1:using an animated GIF image</p>
<img src="data/images/jump-serve-1.gif" alt="Jump Serve" style="width:600px;height:340px;">


  <p> method 2: showing animated image sequence, mouse moveover event to stop, mouse leave to resume</p>
<body onload = 'imagechange();'>
<img onmouseover="stop()" onmouseleave="imagechange()" id="JS-anim" align = "center" src="data/images/jump-serve-1/1.jpg" style="width:600px;height:340px;">
<button onclick="stop()">Stop animation</button>  

<p> method 3: showing animated image sequence, mouse click to toggle stop and resume</p>
<body onload = 'imagechange();'>
<img onclick="toggle()" id="JS-anim-2" align = "center" src="data/images/jump-serve-1/1.jpg" style="width:600px;height:340px;">
  
 <script>
  var images = [ "1","2","3","4","5","6","7","8","9","10","11","12"];
//call this function first
var myInterval;
function imagechange()
{
 // starts a timer. it uses 1000ms 
  myInterval = setInterval("animate()",1000);
}

function stop()
{
  clearInterval(myInterval);    
}
   
var k=0;
function animate()
{
  if(k>=images.length){
    k=0;
  }
  if(k>=0){
    document.getElementById("JS-anim").src="data/images/jump-serve-1/"+images[k] +".jpg";
    document.getElementById("JS-anim-2").src="data/images/jump-serve-1/"+images[k] +".jpg";
    k ++;
  }
}


var flag=0;
function toggle()
{
  if (flag==0){
    flag = 1;
    stop();
  }
  else{
    flag = 0;
    imagechange();
  }
}
 
   
 </script>
  
  <p> The definition of jump serve: :</p>
  <ol class="customIndent">
    <li>serve the ball with a jump like spiking</li>
    <li>powerful and quick</li>
  </ol>

  <p> How to make a good jump serve?</p>
  <ol class="customIndent">
    <li>Key-1: assisant running</li>
    <li>Key-2: jumping</li>
    <li>Key-3: timing for hitting</li>
    <li>Key-4: wrist shape</li>
  </ol>
  </p>

  <h3> Idea 1: using the botton UI</h3>
  <p> The following is a good jump serve</p>
  <button onclick="fastPlaySpeed()" type="button">X 1.5</button>
  <button onclick="resetPlaySpeed()" type="button">Normal</button>
  <button onclick="reducePlaySpeed()" type="button">X 0.75</button><br>


  <video id="JS-1" width="400" controls>
    <source src="data/videos/IMG_1615.mp4" type="video/mp4">
  </video>
  <script>
    var vid = document.getElementById("JS-1");

    function fastPlaySpeed() {
      vid.playbackRate *= 1.5;
    }
    function resetPlaySpeed() {
      vid.playbackRate = 1.0;
    }

    function reducePlaySpeed() {
      vid.playbackRate *= 0.75;
    }
  </script>

  <br><br><br>
  <h3> Idea 2: using the slidebar UI</h3>
  <div class="slidecontainer">
    <p>playback speed: <span id="demo"></span></p>
    <input type="range" min="-99" max="100" value="1" class="slider" id="myRange" style="margin: 0; width: 400px;">
  </div>

  <video id="JS-2" width="400" controls>
    <source src="data/videos/IMG_1615.mp4" type="video/mp4">
  </video>

  <script>
    var vid2 = document.getElementById("JS-2");

    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    output.innerHTML = slider.value;

    slider.oninput = function () {
      //output.innerHTML = this.value;
      if (this.value >= 1) {
        vid2.playbackRate = 1.0 + this.value / 100.0;
      }
      else {
        vid2.playbackRate = Math.exp((this.value - 1) / 100.0);
      }
      output.innerHTML = vid2.playbackRate.toFixed(2);
    }
  </script>

  <br><br><br>
  <h3> Idea 3: Playing multiple videos at the same place using dropdown menu for video source selection. </h3>

  <p> option 1:testing a hoverable dropdown menue</p>
 <div class="dropdown">
  <button class="dropbtn">Select an Example</button>
  <div class="dropdown-content">
    <a href="#">Example 1</a>
    <a href="#">Example 2</a>
  </div>
</div>
  <p> NOTE: sorry, did not make it work. It seems to be a bit complicated to hook callback functions. </p>

  <br>
  <p> option 2:testing a select dropdown menue</p>
  <div class="slidecontainer">
    <p>playback speed: <span id="demo_3"></span></p>
    <input type="range" min="-99" max="100" value="1" class="slider" id="myRange_3" style="margin: 0; width: 400px;">
  </div>

  <video id="JS-3" width="400" controls>
    <source src="data/videos/IMG_1615.mp4" type="video/mp4">
  </video>
<p></p>
  <label for="JS-names">Choose a jump serve example: </label>
  <select name="JS-names" id="JS-names" onChange="update()">
    <option value="data/videos/IMG_1615.mp4">Example 1</option>
    <option value="data/videos/IMG_3506.mp4">Example 2</option>
  </select>

  <script>
    var vid3 = document.getElementById("JS-3");
    //vid3.src = "data/videos/IMG_3506.mp4";
    //vid3.play();

    var slider = document.getElementById("myRange_3");
    var output = document.getElementById("demo_3");
    output.innerHTML = slider.value;

    slider.oninput = function () {
      //output.innerHTML = this.value;
      if (this.value >= 1) {
        vid3.playbackRate = 1.0 + this.value / 100.0;
      }
      else {
        vid3.playbackRate = Math.exp((this.value - 1) / 100.0);
      }
      output.innerHTML = vid3.playbackRate.toFixed(2);
    }


    function update() {
      var vid3 = document.getElementById("JS-3");
      var vnames = document.getElementById("JS-names");
      vid3.src = vnames.options[vnames.selectedIndex].value;
      vid3.playbackRate = 1.0;
      var slider = document.getElementById("myRange_3");
      slider.value = 1;
      var output = document.getElementById("demo_3");
      output.innerHTML = vid3.src;
      //output.innerHTML = slider.value;
    }

  </script>


<h3>Experiments with form inputs</h3>


<?php
// define variables and set to empty values
$fnameErr = lnameErr = $emailErr = "";
$fname = lname = $email = $comment = "";

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  if (empty($_POST["fname"])) {
    $fnameErr = "First name is required";
  } else {
    $fname = test_input($_POST["fname"]);
    // check if name only contains letters and whitespace
    if (!preg_match("/^[a-zA-Z-' ]*$/",$fname)) {
      $fnameErr = "Only letters and white space allowed";
    }
  }

  if (empty($_POST["lname"])) {
    $lnameErr = "Last name is required";
  } else {
    $lname = test_input($_POST["lname"]);
    // check if name only contains letters and whitespace
    if (!preg_match("/^[a-zA-Z-' ]*$/",$lname)) {
      $lnameErr = "Only letters and white space allowed";
    }
  }
  

  if (empty($_POST["email"])) {
    $emailErr = "Email is required";
  } else {
    $email = test_input($_POST["email"]);
    // check if e-mail address is well-formed
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
      $emailErr = "Invalid email format";
    }
  }
    

  if (empty($_POST["comment"])) {
    $comment = "";
  } else {
    $comment = test_input($_POST["comment"]);
  }

}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  $data = htmlspecialchars($data);
  return $data;
}
?>

  
<p><span class="error">* required field</span></p>
<form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">    
  <label for="fname">First name:</label>
  <input type="text" id="fname" name="fname" value="<?php echo $fname;?>">
  <span class="error">* <?php echo $nameErr;?></span>
  
  <label for="lname">Last name:</label>
  <input type="text" id="lname" name="lname" value="<?php echo $lname;?>">
  <span class="error">* <?php echo $nameErr;?></span><br>
  
<label for="email">Email:</label>
  <input type="text" id="email" name="email" value="<?php echo $email;?>"><br>
  <span class="error"><?php echo $websiteErr;?></span>
  
 <label for="comment">Please leave your message here:</label><br> 
  <textarea id="comment" name="comment" rows="10" cols="100"><?php echo $comment;?></textarea><br>
  <input type="submit" value="Submit">
  <input type="reset">
</form>

  
<?php
echo "<h2>Your Input:</h2>";
echo $fname;
echo "<br>";
echo $lname;
echo "<br>";
echo $email;
echo "<br>";
echo $comment;
?>
  
  
<hr>
<p><center>&copy;2022 WuAcademy. All rights reserved.</center></p>
</div> 
</body>

</html>